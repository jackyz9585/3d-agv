# 简介
本项目是一个3D厂房看板模板，提供了配置、浏览两种模式。以浏览模式访问，首页展示了工厂实景图及一些总体信息。点击楼栋进入3D场景，可查看该栋各个楼层详细信息。主要包括：
- 整体3D场景，光源、相机视角、场景动画等
- 楼层底图，楼层区域划分、区域标注
- 楼层上的物体，可为设备、货架、AGV等

以配置模式访问，首页同浏览模式，点击楼栋进入3D场景后可对各个楼层上的物体进行配置。



## 技术栈

本项目使用 Vue 技术栈开发，组件库使用 element-ui, 采用three.js三维引擎创建3D场景, tween.js实现补间动画

- element-ui
- three.js
- tween.js



## 启动项目

yarn serve

浏览器访问http://localhost:8080/layout，进入浏览模式
浏览器访问http://localhost:8080/setting，进入配置模式



## 构建项目

yarn build



## 3D场景组件

组件BaseScence位于目录/src/component/BaseScence，包含绘制各种3D场景的方法封装，是该项目的核心。



### index.vue

组件视图，包含数据源获取，组织创建场景，是3D命令的调用的最初发起者



### config.js

配置项，定义一些常量

此外，还有一些常量定义在/public/config.js中，包括楼栋、楼层、区域、标注信息。不参与编译方便及时配置



### dataAdaptor.js

基于源数据及配置项组织数据

3D场景的坐标原点在底图正中心，源数据的原点在底图西北角顶点，需要转化



### Command

提供各个模块，包含相关绘制命令

- base 基类，提供一些基础方法
- scene 整体的场景类，包含场景、光源、相机、场景动画、缩放旋转控件、鼠标操纵场景方法
- floor 楼层地面
- area 楼层区域
- mark 区域的文字标注
- device 设备，可抽象为通过配置，放在地面上的物体，model中预置了几种外观的模型，可在setting模式配置摆放位置
- axis 坐标轴，在setting模式辅助配置坐标
- agv 小车，可以在指定位置之间移动


